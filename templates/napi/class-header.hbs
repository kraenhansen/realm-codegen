#pragma once

#include <node_api.h>

#include <vendor/{{ snakeCase name }}.h>

// Inspired by https://github.com/nodejs/node-addon-examples/blob/main/6_object_wrap/napi/myobject.h

namespace generated {

class {{ name }} {
 public:
  static napi_value Init(napi_env env, napi_value exports);
  static void Destructor(napi_env env, void* nativeObject, void* finalize_hint);

 private:
  explicit {{ name }}(/* TODO: Constructor arguments */);
  ~{{ name }}();

  static napi_value New(napi_env env, napi_callback_info info);
  {{#each members}}
    {{#if operation}}
      static napi_value {{ name }}(napi_env env, napi_callback_info info);
    {{/if}}
  {{/each}}
  static inline napi_value Constructor(napi_env env);

  napi_env env_;
  napi_ref wrapper_;
  ::{{name}} wrapped;
};

}